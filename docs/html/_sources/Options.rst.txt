.. _Options:

Options List
============


Note that the the options are saved to a json file. Json supports string, numeric and Boolen (true|false). String options must be in quotes. See `JSON <https://www.json.org/>`_ for 
details

Options include

+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| option                              | Description                                                                                                       | Default                                                                                          |
+=====================================+===================================================================================================================+==================================================================================================+
| author                              | Author Name                                                                                                       |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| project_name                        | User defined Project Name                                                                                         |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| algorithm                           | One of :ref:`EX<EX_desc>` , :ref:`GA<GA_desc>` , :ref:`GP<GP_desc>`, :ref:`RF<RF_desc>` , :ref:`GBRT<GBRT_desc>`  |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| random_seed                         | User defined seed for random number generator                                                                     |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| num_parallel                        | How many model to run in parallel                                                                                 | 4,                                                                                               |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| num_generations                     | How many iterations or generations, not used for Exhaustive Search                                                | 6,                                                                                               |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| population_size                     | Size of population, not used for Exhaustive search                                                                | 40,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | num_opt_chains                    | | For GP,RF and GBRT multiple chains can be used. Using multiple                                                  | | 4,                                                                                             |
| |                                   | | chains will improve the performance of the "ask" step.                                                          | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | exhaustive_batch_size             | | For a large exhaustive search, a complete list of all models may exceed the available memory.                   | | 100,                                                                                           |
| |                                   | | Using and exhaustive_search_batch_size will limit the number of models generated at any time.                   | |                                                                                                |
| |                                   | | There may be modest impact on performace as the batch size gets                                                 | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| crash_value                         | Value of fitness or reward assigned when model output is not generated.                                           |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | downhill_period                   | | How often to run the downhill set, default is 2, meaning that 2 generations/iterations will be run, followed    | |                                                                                                |
| |                                   | | by the downhill step, then an additional 2 generations/iterations.                                              | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | num_niches                        | | Only used for GA. A penalty is assigned for each model based on the number of similar models within a niche     | |                                                                                                |
| |                                   | | radius. This penalty is applied only to the selection process (not to the fitness of the model). The purpose    | |                                                                                                |
| |                                   | | is to insure maintaining a degree of diversity in the population                                                | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| niche_radius                        | The radius of the niches. See  :ref:`Niche Radius<Niche Radius>`                                                  |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | local_2_bit_search                | | Whether to perform the :ref:`two bit local search<Local Two bit Search>` . The two bit local seach              | |                                                                                                |
| |                                   | | substantially increase the robustness of the search.                                                            | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| final_downhill_search               | Whether to perform a local search (1 and 2 bit) at the end of the global search                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| nmfePath                            | Path to nmfe??.bat, the default command line for executing NONMEM                                                 |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_timeout                   | Time after which the NONMEM execution will be terminated, and the crash value assigned.                           |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_priority_class            | Priority class, below_normal is recommended to maintain user interface responsiveness                             |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| use_saved_models                    | Whether to read models that have been save in a JSON file from a previous search                                  |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_man                       |                                                                                                                   | "darwin.GridRunManager",                                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_cache                         |                                                                                                                   | "darwin.MemoryModelCache",                                                                       |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_man                            |                                                                                                                   |  "darwin.GenericGridManager",                                                                    |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| engine_adapter                      |                                                                                                                   |  "nonmem",                                                                                       |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| working_dir                         |                                                                                                                   |  "~/darwin/Ex1",                                                                                 |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| data_dir                            |                                                                                                                   |  "{project_dir}/data",                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| output_dir                          |                                                                                                                   |  "{project_dir}/output",                                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| temp_dir                            |                                                                                                                   |  "{working_dir}/temp",                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA                                  |                                                                                                                   | GA,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | GA::elitist_num                   | | How many of the best models from any generation to carry over unchanged to the next generation                  | | 2,                                                                                             |
| |                                   | | Function like `Hall of Fame <https://deap.readthedocs.io/en/master/api/tools.html#hall-of-fame/>`_  in DEAP     | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| crossoverRate                       | What fraction of the mating pairs will undergo cross over                                                         |  10,                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| mutationRate                        | Probability that any bit in the genome will be "flipped", 0 to   1, or 1 to 0, must be between 0 and 1            |  4,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| sharing_alpha                       | Parameter of the niche penalty calculation                                                                        |  6,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::selection                       | Selection algorithm for GA,   currently only "tournament" is available                                            |  "tournament"                                                                                    |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::selection_size                  | How many "parents" enter in the selection, 2 is   highly recommended, very limited experience with other values   |  2,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::crossoverOperator               | The algorithm for cross over, only    "cxOnePoint" (single point cross over) is available                         | "cxOnePoint"                                                                                     |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::mutate                          | The algorithm for mutation, currently only "flipBit" is   available                                               | "flipBit"                                                                                        |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::attribute_mutation_probability  | Probability of any bit being mutated, values between 0 and 1                                                      |  true,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::niche_penalty                   | The penalty added to the fitness for being to close to other models.                                              | 20,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| penalty                             |                                                                                                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::THETA                    | Penalty added to fitness/reward for each estimated THETA                                                          |  2,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::OMEGA                    | Penalty added to fitness/reward for each estimated OMEGA element                                                  |  0.95,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::SIGMA                    | Penalty added to fitness/reward for each estimated SIGMA element                                                  |  0.95,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::convergence              | Penalty added to fitness/reward for failing to converge (real number)                                             |  0.1,                                                                                            |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::covariance               | Penalty added to fitness/reward for failing the covariance step (real   number)                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::correlation            | | Penalty added to fitness/reward if any off diagonal element of                                                  | | 2,                                                                                             |
| | Penalties::correlation            | | the correlation matrix of estimate has absolute value > 0.95 (real number)                                      | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::conditionNumber          | Penalty added to fitness/reward if the condition number is > 1000   (real number)                                 |  "cxOnePoint",                                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::non_influential_tokens   | Penalty added to fitness/reward if any tokens do not influence the   control file (relevant for nested tokens)    |  "flipBit",                                                                                      |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess                         |                                                                                                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::useR                   |                                                                                                                   |  true,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::RScriptPath            |                                                                                                                   |  "/some/R/path/rscript",                                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::postRunRCode           |                                                                                                                   |  "{project_dir}/simplefunc.r",                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::R_timeout              |                                                                                                                   |  30,                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::usePython              |                                                                                                                   |  true,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::postRunPythonCode      |                                                                                                                   |  "{project_dir}/../simplefunc_common.py"                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager                        |                                                                                                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::python_path           |                                                                                                                   |  "~/darwin/venv/bin/python",                                                                     |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_search_command |                                                                                                                   |  "qsub -b y -o   {project_dir}/out.txt -e {project_dir}/err.txt -N '{project_name}'",            |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_command        |                                                                                                                   |  "qsub -b y -o   {results_dir}/{run_name}.out -e {results_dir}/{run_name}.err -N   {job_name}",  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_job_id_re      |                                                                                                                   |  "Your job (\\w+)   \\(\".+?\"\\) has been submitted",                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_command          |                                                                                                                   |  "qstat -s z",                                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_job_id_re        |                                                                                                                   |  "^\\s+(\\w+)",                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_interval         |                                                                                                                   |  5,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::delete_command        |                                                                                                                   |  "qdel {project_stem}-\*"                                                                        |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+


Author and project_name are currently not used, Default - blank
