.. _Options:

Options List
============


Note that the the options are saved to a json file. Json supports string, numeric and Boolen (true|false). String options must be in quotes. See `JSON <https://www.json.org/>`_ for 
details

Options include

+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| option                              | Description                                                                                                       | Default                                                                                          |
+=====================================+===================================================================================================================+==================================================================================================+
| author                              | Author Name (string)                                                                                              |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| project_name                        | User defined Project Name (string)                                                                                |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| algorithm                           | One of :ref:`EX<EX_desc>` , :ref:`GA<GA_desc>` , :ref:`GP<GP_desc>`, :ref:`RF<RF_desc>` , :ref:`GBRT<GBRT_desc>`  |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| random_seed                         | User defined seed for random number generator  (positive integer)                                                 |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| num_parallel                        | How many model to run in parallel  (positive integer)                                                             | 4,                                                                                               |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| num_generations                     | How many iterations or generations, not used for Exhaustive Search (positive integer)                             | 6,                                                                                               |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| population_size                     | Size of population, not used for Exhaustive search  (positive integer)                                            | 40,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | num_opt_chains                    | | For GP,RF and GBRT multiple chains can be used. Using multiple                                                  | | 4,                                                                                             |
| |                                   | | chains will improve the performance of the "ask" step. (positive integer)                                       | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | exhaustive_batch_size             | | For a large exhaustive search, a complete list of all models may exceed the available memory.                   | | 100,                                                                                           |
| |                                   | | Using and exhaustive_search_batch_size will limit the number of models generated at any time.                   | |                                                                                                |
| |                                   | | There may be modest impact on performace as the batch size gets smaller. (positive integer)                     | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | crash_value                       | | Value of fitness or reward assigned when model output is not generated.                                         | |                                                                                                | 
| |                                   | | Should be set larger than any anticipate completed model fitness (positive real)                                | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | downhill_period                   | | How often to run the downhill set, default is 2, meaning that 2 generations/iterations will be run, followed    | |                                                                                                |
| |                                   | | by the downhill step, then an additional 2 generations/iterations. (integer)                                    | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | num_niches                        | | Only used for GA. A penalty is assigned for each model based on the number of similar models within a niche     | |                                                                                                |
| |                                   | | radius. This penalty is applied only to the selection process (not to the fitness of the model). The purpose    | |                                                                                                |
| |                                   | | is to insure maintaining a degree of diversity in the population (integer)                                      | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| niche_radius                        | The radius of the niches. See  :ref:`Niche Radius<Niche Radius>` (positive real)                                  |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | local_2_bit_search                | | Whether to perform the :ref:`two bit local search<Local Two bit Search>` . The two bit local seach              | |                                                                                                |
| |                                   | | substantially increase the robustness of the search. (true|false)                                               | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| final_downhill_search               | Whether to perform a local search (1 and 2 bit) at the end of the global search  (true|false)                     |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| nmfePath                            | Path to nmfe??.bat, the default command line for executing NONMEM (string)                                        |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_timeout                   | Time after which the NONMEM execution will be terminated, and the crash value assigned. (positive real)           |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_priority_class            | Priority class, below_normal is recommended to maintain user interface responsiveness (normal|below_normal)       | below_normal,                                                                                    |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| use_saved_models                    | Whether to read models that have been save in a JSON file from a previous search (true|false)                     |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_run_man                       |                                                                                                                   | "darwin.GridRunManager",                                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| model_cache                         |                                                                                                                   | "darwin.MemoryModelCache",                                                                       |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_man                            |                                                                                                                   |  "darwin.GenericGridManager",                                                                    |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| engine_adapter                      |                                                                                                                   |  "nonmem",                                                                                       |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| working_dir                         |                                                                                                                   |  "~/darwin/Ex1",                                                                                 |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| data_dir                            | Internal, not user supplied, path to NONMEM data set                                                              |  "{project_dir}/data",                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | output_dir                        | | Folder where all the files that considered as results will be put, such as results.csv and Final* files.        | | "{project_dir}/output",                                                                        | 
| |                                   | | Default value is {working_dir}/output. May actually make sense to be set to {project_dir} if you want to        | |                                                                                                |
| |                                   | | version control the project and the results. (string)                                                           | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | temp_dir                          | | folder where all iterations/runs are performed, i.e. where all NONMEM files are created. Default value is       | | {working_dir}/temp                                                                             | 
| |                                   | | {working_dir}/temp. May be deleted after search finished/stopped if remove_temp_dir is set to true. (string)    | |                                                                                                | 
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA                                  |                                                                                                                   | GA,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | GA::elitist_num                   | | How many of the best models from any generation to carry over unchanged to the next generation                  | | 2,                                                                                             |
| |                                   | | Function like `Hall of Fame <https://deap.readthedocs.io/en/master/api/tools.html#hall-of-fame/>`_  in DEAP     | |                                                                                                |
| |                                   | | (positive integer)                                                                                              | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| crossoverRate                       | What fraction of the mating pairs will undergo cross over (real 0.0-1.0)                                          |  0.7                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| mutationRate                        | Probability that at least one bit in the genome will be "flipped", 0 to 1, or 1 to 0, (real 0.0-1.0)              |  0.8                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| sharing_alpha                       | Parameter of the niche penalty calculation                                                                        |  6,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::selection                       | Selection algorithm for GA, currently only "tournament" is available                                              |  "tournament"                                                                                    |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::selection_size                  | How many "parents" enter in the selection, 2 is highly recommended, very limited experience with other values     |  2,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::crossoverOperator               | The algorithm for cross over, only "cxOnePoint" (single point cross over) is available                            | "cxOnePoint"                                                                                     |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::mutate                          | The algorithm for mutation, currently only "flipBit" is available                                                 | "flipBit"                                                                                        |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| GA::attribute_mutation_probability  | Probability of any bit being mutated, (real 0.0-1.0)                                                              |  0.1                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | GA::niche_penalty                 | | Numeric, required if using GA. Require for calculation of the crowding penalty. The niche penalty is calculate  | | 10,                                                                                            |
| |                                   | | by first calculating the "distance matrix", the pair wise                                                       | |                                                                                                |
| |                                   | | `Mikowski distance <https://en.wikipedia.org/wiki/Minkowski_distance>`_ from the present model to all           | |                                                                                                |
| |                                   | | other models. The "crowding" quantity is then calculated a the sum of: (distance/niche_radius)**sharing_alpha   | |                                                                                                |
| |                                   | | for all other models in the generation for which the Mikowski distance is less than the niche radius.           | |                                                                                                |
| |                                   | | Finally, the penalty is calculated as: exp((crowding-1)*niche_penalty)-1. The objective of using a              | |                                                                                                |
| |                                   | | niche penalty is to maintain diversity of models, to avoid premature convergence of the search,                 | |                                                                                                |
| |                                   | | by penalizing when models are too similar to other models in the current generation. A typical value for        | |                                                                                                |
| |                                   | | the penalty is 10. (positive real)                                                                              | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::THETA                  | | Penalty added to fitness/reward for each estimated THETA. A value of 3.84 corresonds to a hypothesis test with  | | 10                                                                                             | 
| |                                   | | 1 df and p< 0.05 (for nested models) a value of 2 for 1 df corresponds to the Akaike information criterion      | |                                                                                                |
| |                                   | | (real)                                                                                                          | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::OMEGA                    | Penalty added to fitness/reward for each estimated OMEGA element (real)                                           |  10                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::SIGMA                    | Penalty added to fitness/reward for each estimated SIGMA element (real)                                           |  10                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| Penalties::convergence              | Penalty added to fitness/reward for failing to converge (real)                                                    |  100                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::covariance             | | Penalty added to fitness/reward for failing the covariance step (real number). If a successful covariance step  | | 100                                                                                            | 
| |                                   | | is important, this can be set to a large value (e.g., 100), if successful covariance is not important, it can   | |                                                                                                |
| |                                   | | set to 0                                                                                                        | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::correlation            | | Penalty added to fitness/reward if any off diagonal element of the correlation matrix of estimate               | | 100,                                                                                           |
| |                                   | |  has absolute value > 0.95 (real number). This penalty will be added if the covariance step fails (or is not)   | |                                                                                                |
| |                                   | | requested)    (real)                                                                                            | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::conditionNumber        | | Penalty added to fitness/reward if the condition number is > 1000                                               | | 100,                                                                                           |
| |                                   | | This penalty will be added if the covariance step fails (or is not) requested   (real)                          | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| | Penalties::non_influential_tokens | | Penalty added to fitness/reward if any tokens do not influence the control file (relevant for nested tokens)    | | 0.0001                                                                                         |
| |                                   | | Should be very small, as the purpose is only for the model with non-influential tokens to be minimially worse   | |                                                                                                |
| |                                   | | than the same model without the non influential token(s)  (real)                                                | |                                                                                                |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess                         |                                                                                                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::useR                   | Whether user supplied R code is to be run after NONMEM execution (true|false)                                     |  true,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::RScriptPath            | Absolute path to Rscript.exe  (string)                                                                            |  "/some/R/path/rscript",                                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::postRunRCode           | Path to R file to be run after each NONMEM execution (string with .r extension)                                   |  "{project_dir}/simplefunc.r",                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::R_timeout              | Time out (seconds) for R code execution (positive real)                                                           |  30,                                                                                             |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::usePython              | whether user supplied Python code is to be run after NONMEM execution (true|false)                                |  true,                                                                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| postprocess::postRunPythonCode      |  Path to python code file to be run after each NONMEM execution  (string, with .py extension)                     |  "{project_dir}/../simplefunc_common.py"                                                         |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager                        |                                                                                                                   |                                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::python_path           |                                                                                                                   |  "~/darwin/venv/bin/python",                                                                     |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_search_command |                                                                                                                   |  "qsub -b y -o   {project_dir}/out.txt -e {project_dir}/err.txt -N '{project_name}'",            |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_command        |                                                                                                                   |  "qsub -b y -o   {results_dir}/{run_name}.out -e {results_dir}/{run_name}.err -N   {job_name}",  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::submit_job_id_re      |                                                                                                                   |  "Your job (\\w+)   \\(\".+?\"\\) has been submitted",                                           |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_command          |                                                                                                                   |  "qstat -s z",                                                                                   |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_job_id_re        |                                                                                                                   |  "^\\s+(\\w+)",                                                                                  |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::poll_interval         |                                                                                                                   |  5,                                                                                              |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+
| grid_manager::delete_command        |                                                                                                                   |  "qdel {project_stem}-\*"                                                                        |
+-------------------------------------+-------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------+


Author is currently not used, Default - blank
